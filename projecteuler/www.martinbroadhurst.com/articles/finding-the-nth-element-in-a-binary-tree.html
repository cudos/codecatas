<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Finding the nth element in a binary tree</title>
</head>
<body>
<p><a href="../index.html">Martin Broadhurst</a> &gt; <a href="../data-structures.html">Data Structures</a>
&gt; <a href="binary-tree.html">Binary tree</a>
<h1>Finding the <var>n</var>th element in a binary tree</h1>
<h2>Introduction</h2>
<p>It can be useful to be able to find the <var>n</var>th element in a <a href="binary-tree.html">binary tree</a>, such as the median element.
This is not simple because the elements are not stored in sequence as they are in an array.
<h2>Implementation</h2>
<font face="monospace" size="2">
<font color="#2e8b57"><b>void</b></font>&nbsp;*MBbinarytree_get_at(<font color="#2e8b57"><b>const</b></font>&nbsp;MBbinarytree *tree, <font color="#2e8b57"><b>unsigned</b></font>&nbsp;<font color="#2e8b57"><b>int</b></font>&nbsp;index)<br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><b>void</b></font>&nbsp;*result = <font color="#ff00ff">NULL</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><b>if</b></font>&nbsp;(index &lt; tree-&gt;count) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MBbtnode *node = tree-&gt;root;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#2e8b57"><b>unsigned</b></font>&nbsp;<font color="#2e8b57"><b>int</b></font>&nbsp;pos = MBbinarytree_count_recursive(tree-&gt;root-&gt;left);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><b>while</b></font>&nbsp;(pos != index) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><b>if</b></font>&nbsp;(index &gt; pos) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node = node-&gt;right;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos = pos + <font color="#ff00ff">1</font>&nbsp;+ MBbinarytree_count_recursive(node-&gt;left);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><b>else</b></font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node = node-&gt;left;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos = pos - <font color="#ff00ff">1</font>&nbsp;- MBbinarytree_count_recursive(node-&gt;right);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result = node-&gt;data;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><b>return</b></font>&nbsp;result;<br>
}<br>
</font>
<h2>Source code</h2>
<ul>
<li><a href="../source/mbcommon.h.html">mbcommon.h</a>
<li><a href="../source/iterator.h.html">iterator.h</a>
<li><a href="../source/iterator.c.html">iterator.c</a>
<li><a href="../source/slist.h.html">slist.h</a>
<li><a href="../source/slist.c.html">slist.c</a>
<li><a href="../source/stack.h.html">stack.h</a>
<li><a href="../source/stack.c.html">stack.c</a>
<li><a href="../source/binarytree.h.html">binarytree.h</a>
<li><a href="../source/binarytree.c.html">binarytree.c</a>
</ul>
<div align="center">
<p>Copyright (C) 2010 <a href="../index.html">Martin Broadhurst</a>
</div>
</body>
</html>
